import http.client

conn = http.client.HTTPSConnection("api.goto.com")

OWNER_PHONE_NUMBER = "+18722770714"


payload = "{\"ownerPhoneNumber\":\"+18722770714\",\"contactPhoneNumbers\":[\"+12623286740\"],\"body\":\"Testing live messages 3!\"}"


headers = { 
	'content-type': "application/json",
	'Authorization': 'Bearer eyJraWQiOiI2MjAiLCJhbGciOiJSUzUxMiJ9.eyJzYyI6ImNhbGwtY29udHJvbC52MS5jYWxscy5jb250cm9sIGNhbGxzLnYyLmluaXRpYXRlIG1lc3NhZ2luZy52MS53cml0ZSBpZGVudGl0eTpzY2ltLm1lIGNhbGwtZXZlbnRzLnYxLmV2ZW50cy5yZWFkIG1lc3NhZ2luZy52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB2b2ljZW1haWwudjEubm90aWZpY2F0aW9ucy5tYW5hZ2UgcmVjb3JkaW5nLnYxLm5vdGlmaWNhdGlvbnMubWFuYWdlIHN1cHBvcnQ6IHZvaWNlbWFpbC52MS52b2ljZW1haWxzLndyaXRlIGZheC52MS53cml0ZSB2b2ljZS1hZG1pbi52MS53cml0ZSBpZGVudGl0eTogd2VicnRjLnYxLnJlYWQgd2VicnRjLnYxLndyaXRlIGNvbGxhYjogdm9pY2UtYWRtaW4udjEucmVhZCBwcmVzZW5jZS52MS5yZWFkIHJlY29yZGluZy52MS5yZWFkIGNhbGwtZXZlbnRzLnYxLm5vdGlmaWNhdGlvbnMubWFuYWdlIGlkZW50aXR5OnNjaW0ub3JnIHByZXNlbmNlLnYxLndyaXRlIGZheC52MS5yZWFkIGNhbGwtaGlzdG9yeS52MS5ub3RpZmljYXRpb25zLm1hbmFnZSBwcmVzZW5jZS52MS5ub3RpZmljYXRpb25zLm1hbmFnZSBtZXNzYWdpbmcudjEuc2VuZCBtZXNzYWdpbmcudjEucmVhZCBjci52MS5yZWFkIGZheC52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB1c2Vycy52MS5saW5lcy5yZWFkIHZvaWNlbWFpbC52MS52b2ljZW1haWxzLnJlYWQiLCJzdWIiOiIxMDM2MDQ2MDUxNDIyMjM4Mjc0IiwiYXVkIjoiNWM0ZGJlMTEtMDY1OS00MmIwLWE5NGItNzZkYTkzODQzMzIyIiwib2duIjoicHdkIiwibHMiOiIxN2VkYjRmOS0yNjc1LTQ0ZmUtOThhNS0zNmRkMzI5NTQ2NDIiLCJ0eXAiOiJhIiwiZXhwIjoxNjk2MjYzNzcyLCJpYXQiOjE2OTYyNjAxNzIsImp0aSI6IjFiZWQ0M2EyLTA4ZDQtNGI4Zi04NWIzLWJlZDhmNWY5ZTgxMCJ9.qVR3kMpKAS8zQjzkU-qq6TRNWKdzCWmB8WKze6CLPJinN1gf2ETqO492Ajk8KGq9vBQlbq6FbUvhyaQOt76LO1WqVE2A8I5ChEQLqMuq_vsftlq9rBpSpuGNm_dQSsSHjRyJw418lSh7MsOhosvEhtZ6NideOfJ8hxdY7R4dMHidEAHDzheHCIc0rspbleboHBv16h9JzyleLiGzQcDZFOhZfZ1kqFHOO22tluvm1OJOTBffMcdaDLR0YBaKjVob7zeIO3E-f6h3qL2xYkviM3Oq7sTGmUIy2ltYKM_RlNYXt6u_wAKnty33E3V8z1QmXdLubRgZGassEVeeTn5LuA'

}

conn.request("POST", "/messaging/v1/messages", payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))


## Follow the url: https://developer.goto.com/GoToConnect#tag/Message/paths/~1messaging~1v1~1messages/post
#working

# curl -X "POST" "https://api.goto.com/messaging/v1/messages" \
#   -H "Content-Type: application/json" \
#   -d '{"ownerPhoneNumber": "+18722770714", "contactPhoneNumbers": [ "+12623286740" ], "body": "Test message"}' \
#   -H 'Authorization: Bearer eyJraWQiOiI2MjAiLCJhbGciOiJSUzUxMiJ9.eyJzYyI6ImNhbGwtY29udHJvbC52MS5jYWxscy5jb250cm9sIGNhbGxzLnYyLmluaXRpYXRlIG1lc3NhZ2luZy52MS53cml0ZSBpZGVudGl0eTpzY2ltLm1lIGNhbGwtZXZlbnRzLnYxLmV2ZW50cy5yZWFkIG1lc3NhZ2luZy52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB2b2ljZW1haWwudjEubm90aWZpY2F0aW9ucy5tYW5hZ2UgcmVjb3JkaW5nLnYxLm5vdGlmaWNhdGlvbnMubWFuYWdlIHN1cHBvcnQ6IHZvaWNlbWFpbC52MS52b2ljZW1haWxzLndyaXRlIGZheC52MS53cml0ZSB2b2ljZS1hZG1pbi52MS53cml0ZSBpZGVudGl0eTogd2VicnRjLnYxLnJlYWQgd2VicnRjLnYxLndyaXRlIGNvbGxhYjogdm9pY2UtYWRtaW4udjEucmVhZCBwcmVzZW5jZS52MS5yZWFkIHJlY29yZGluZy52MS5yZWFkIGNhbGwtZXZlbnRzLnYxLm5vdGlmaWNhdGlvbnMubWFuYWdlIGlkZW50aXR5OnNjaW0ub3JnIHByZXNlbmNlLnYxLndyaXRlIGZheC52MS5yZWFkIGNhbGwtaGlzdG9yeS52MS5ub3RpZmljYXRpb25zLm1hbmFnZSBwcmVzZW5jZS52MS5ub3RpZmljYXRpb25zLm1hbmFnZSBtZXNzYWdpbmcudjEuc2VuZCBtZXNzYWdpbmcudjEucmVhZCBjci52MS5yZWFkIGZheC52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB1c2Vycy52MS5saW5lcy5yZWFkIHZvaWNlbWFpbC52MS52b2ljZW1haWxzLnJlYWQiLCJzdWIiOiIxMDM2MDQ2MDUxNDIyMjM4Mjc0IiwiYXVkIjoiNWM0ZGJlMTEtMDY1OS00MmIwLWE5NGItNzZkYTkzODQzMzIyIiwib2duIjoicHdkIiwibHMiOiI0NzZjNTU1Yy1iNTgzLTRhZWQtYTgyNS1lMDA2MjAwMTg4YzEiLCJ0eXAiOiJhIiwiZXhwIjoxNjk2MjM4MDk2LCJpYXQiOjE2OTYyMzQ0OTYsImp0aSI6ImY0Njc2MmFiLTFkMWItNDU0ZC1iZjQ5LTY4OTVmZmU1ZWQ2YiJ9.UCNYSXbVP1qjOEMza7vfo_5AL24IKI9kHF924b3uSKmodj4Mct6L20K4pE-d6MCPUI7cneUqaCpFTLtGVomGBq8rzqGsAhJDEZCpmPOM7vL7Yl0MYQZhy948ICA_p4HKBEQkeByji13ttGMkCmZH7b0h97Aka6PeXunhbN7tDZQnsI0qS3QcCoAkzpIti-AfZd6GeByFy_DLzINdhjRxwCDgqscZDTxiSmBd_9rkbf877H3gGHtK75IFqkwtQozuKLdzvKX6auxMfXV4rCX93Ep28TTASNbi-08rBMLa-7IXJsLMdPmDJfkbc_kuU4h0OXeud9O2O44n05cyG0SHjg'





# curl -J -X POST 'https://api.goto.com/messaging/v1/messages' \
#   -H "Content-Type: multipart/form-data" \
#   -H "Accept: application/json" \
#   -H "Authorization: Bearer eyJraWQiOiI2MjAiLCJhbGciOiJSUzUxMiJ9.eyJzYyI6ImNhbGwtY29udHJvbC52MS5jYWxscy5jb250cm9sIGNhbGxzLnYyLmluaXRpYXRlIG1lc3NhZ2luZy52MS53cml0ZSBpZGVudGl0eTpzY2ltLm1lIGNhbGwtZXZlbnRzLnYxLmV2ZW50cy5yZWFkIG1lc3NhZ2luZy52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB2b2ljZW1haWwudjEubm90aWZpY2F0aW9ucy5tYW5hZ2UgcmVjb3JkaW5nLnYxLm5vdGlmaWNhdGlvbnMubWFuYWdlIHN1cHBvcnQ6IHZvaWNlbWFpbC52MS52b2ljZW1haWxzLndyaXRlIGZheC52MS53cml0ZSB2b2ljZS1hZG1pbi52MS53cml0ZSBpZGVudGl0eTogd2VicnRjLnYxLnJlYWQgd2VicnRjLnYxLndyaXRlIGNvbGxhYjogdm9pY2UtYWRtaW4udjEucmVhZCBwcmVzZW5jZS52MS5yZWFkIHJlY29yZGluZy52MS5yZWFkIGNhbGwtZXZlbnRzLnYxLm5vdGlmaWNhdGlvbnMubWFuYWdlIGlkZW50aXR5OnNjaW0ub3JnIHByZXNlbmNlLnYxLndyaXRlIGZheC52MS5yZWFkIGNhbGwtaGlzdG9yeS52MS5ub3RpZmljYXRpb25zLm1hbmFnZSBwcmVzZW5jZS52MS5ub3RpZmljYXRpb25zLm1hbmFnZSBtZXNzYWdpbmcudjEuc2VuZCBtZXNzYWdpbmcudjEucmVhZCBjci52MS5yZWFkIGZheC52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB1c2Vycy52MS5saW5lcy5yZWFkIHZvaWNlbWFpbC52MS52b2ljZW1haWxzLnJlYWQiLCJzdWIiOiIxMDM2MDQ2MDUxNDIyMjM4Mjc0IiwiYXVkIjoiNWM0ZGJlMTEtMDY1OS00MmIwLWE5NGItNzZkYTkzODQzMzIyIiwib2duIjoicHdkIiwibHMiOiI0NzZjNTU1Yy1iNTgzLTRhZWQtYTgyNS1lMDA2MjAwMTg4YzEiLCJ0eXAiOiJhIiwiZXhwIjoxNjk2MjM4MDk2LCJpYXQiOjE2OTYyMzQ0OTYsImp0aSI6ImY0Njc2MmFiLTFkMWItNDU0ZC1iZjQ5LTY4OTVmZmU1ZWQ2YiJ9.UCNYSXbVP1qjOEMza7vfo_5AL24IKI9kHF924b3uSKmodj4Mct6L20K4pE-d6MCPUI7cneUqaCpFTLtGVomGBq8rzqGsAhJDEZCpmPOM7vL7Yl0MYQZhy948ICA_p4HKBEQkeByji13ttGMkCmZH7b0h97Aka6PeXunhbN7tDZQnsI0qS3QcCoAkzpIti-AfZd6GeByFy_DLzINdhjRxwCDgqscZDTxiSmBd_9rkbf877H3gGHtK75IFqkwtQozuKLdzvKX6auxMfXV4rCX93Ep28TTASNbi-08rBMLa-7IXJsLMdPmDJfkbc_kuU4h0OXeud9O2O44n05cyG0SHjg" \
#   -F "ownerPhoneNumber='+18722770714';type=text/plain" \
#   -F "contactPhoneNumbers='+12623286740';type=text/plain" \
#   -F "body='testing attach file send by script';type=text/plain" \
#   -F "media='/home/abdulalim/Downloads/gp.jpg"